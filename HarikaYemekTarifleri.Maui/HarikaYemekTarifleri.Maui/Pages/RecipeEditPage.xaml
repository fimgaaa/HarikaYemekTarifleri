<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:controls="clr-namespace:Microsoft.Maui.Controls;assembly=Microsoft.Maui.Controls"
             x:Class="HarikaYemekTarifleri.Maui.Pages.RecipeEditPage"
			 x:Name="page"
             Title="Tarif Ekle">
    <controls:NavigationPage.TitleView>
        <Grid ColumnDefinitions="*"
              Padding="0,0,8,0"
              ColumnSpacing="8"
              VerticalOptions="Center"
              HorizontalOptions="FillAndExpand"
              WidthRequest="{Binding Source={x:Reference page}, Path=Width}"
              MinimumWidthRequest="{Binding Source={x:Reference page}, Path=Width}">
            <Label Text="Tarif Ekle"
                   FontAttributes="Bold"
                   FontSize="20"
                   VerticalOptions="Center"
                   HorizontalOptions="Start" />
        </Grid>
    </controls:NavigationPage.TitleView>
    <ScrollView>
		<VerticalStackLayout Padding="16" Spacing="10">
			<!--<Entry Placeholder="Başlık" Text="{Binding Title}" />
			<Editor Placeholder="İçerik" HeightRequest="120" Text="{Binding Content}" />
			<CheckBox IsChecked="{Binding IsVegetarian}" />
			<Label Text="Vejetaryen" />
			<Picker Title="Zorluk" ItemsSource="{Binding Source={x:Reference page}, Path=BindingContext.DifficultyOptions}" />-->
    
                <Entry Placeholder="Başlık" Text="{Binding Title}" />
                <Editor Placeholder="İçerik" HeightRequest="120" Text="{Binding Content}" />
                <Image Source="{Binding PhotoUrl, TargetNullValue='dotnet_bot.png'}" HeightRequest="200" />
                <Button Text="Fotoğraf Seç" Command="{Binding SelectPhotoCommand}" />
                <CheckBox IsChecked="{Binding IsVegetarian}" />
                <Label Text="Vejetaryen" />
            <Picker Title="Zorluk"
                        ItemsSource="{Binding Source={x:Reference page}, Path=BindingContext.DifficultyOptions}"
                        ItemDisplayBinding="{Binding Name}"
                        SelectedItem="{Binding SelectedDifficulty}" />
            <HorizontalStackLayout Spacing="12">
                <Label Text="Hazırlık Süresi:" VerticalOptions="Center" />
                <TimePicker Time="{Binding PrepTime}" Format="HH:mm" />
            </HorizontalStackLayout>
            <Label Text="{Binding CreatedAt, StringFormat='Oluşturulma Tarihi: {0:dd.MM.yyyy HH:mm}'}"
                   IsVisible="{Binding HasCreatedAt}"
                   TextColor="Gray" />


            <Label Text="Kategoriler" FontAttributes="Bold" />
			<CollectionView ItemsSource="{Binding Categories}">
				<CollectionView.ItemTemplate>
					<DataTemplate>
						<HorizontalStackLayout>
							<CheckBox CheckedChanged="OnCategoryCheckedChanged"/>
							<Label Text="{Binding Name}" />
						</HorizontalStackLayout>
					</DataTemplate>
				</CollectionView.ItemTemplate>
			</CollectionView>

			<Button Text="Kaydet" Command="{Binding SaveCommand}" />
			<Label Text="{Binding Error}" TextColor="Red" />
		</VerticalStackLayout>
	</ScrollView>
</ContentPage>
